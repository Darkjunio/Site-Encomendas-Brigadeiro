<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Encomendas de Brigadeiros</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #fff8f5;
      font-family: 'Segoe UI', sans-serif;
    }
    .brigadeiro-card img {
      height: 100px;
      object-fit: cover;
    }
    .whatsapp-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #25d366;
      color: white;
      border: none;
      border-radius: 50%;
      width: 60px;
      height: 60px;
      font-size: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }
  </style>
</head>
<body>
  <div class="container py-5">
    <h1 class="text-center mb-4">Brigadeiros que derretem no coraÃ§Ã£o ðŸ’–</h1>

    <div class="row" id="sabores">
      <!-- Sabores Individuais -->
    </div>

    <h2 class="mt-5">Combos Promocionais</h2>
    <div class="row" id="combos">
      <!-- Combos -->
    </div>

    <h2 class="mt-5">Carrinho</h2>
    <ul class="list-group" id="carrinho"></ul>
    <div class="mt-3">
      <strong>Total: R$ <span id="total">0.00</span></strong>
    </div>

    <h2 class="mt-5">Finalizar Pedido</h2>
    <form id="pedidoForm">
      <div class="mb-3">
        <label for="nome" class="form-label">Seu nome</label>
        <input type="text" class="form-control" id="nome" required>
      </div>
      <div class="mb-3">
        <label class="form-label">Local de entrega</label>
        <input type="text" class="form-control" value="Faculdade" disabled>
      </div>
      <div class="mb-3">
        <label for="data" class="form-label">Data de entrega</label>
        <input type="date" class="form-control" id="data" required>
      </div>
      <div class="mb-3">
        <label for="obs" class="form-label">ObservaÃ§Ãµes</label>
        <textarea class="form-control" id="obs"></textarea>
      </div>
      <button type="submit" class="btn btn-success">Finalizar via WhatsApp</button>
    </form>
  </div>

  <button class="whatsapp-btn" onclick="finalizarPedido()">
    ðŸ’¬
  </button>

  <script>
    const sabores = [
      "Tradicional",
      "Ninho",
      "Morango",
      "Ninho com Nutella",
      "Meio Amargo",
      "Beijinho"
    ];

    const combos = [
      { nome: "Combo 6 unidades", preco: 16 },
      { nome: "Combo 12 unidades + caixa decorada", preco: 32 },
      { nome: "Presente Surpresa (3 sabores)", preco: 20 }
    ];

    const carrinho = [];

    function atualizarCarrinho() {
      const lista = document.getElementById("carrinho");
      const totalSpan = document.getElementById("total");
      lista.innerHTML = "";
      let total = 0;
      carrinho.forEach((item, i) => {
        const li = document.createElement("li");
        li.className = "list-group-item d-flex justify-content-between align-items-center";
        li.innerHTML = `${item.nome} (x${item.qtd}) - R$ ${(item.qtd * item.preco).toFixed(2)}
        <button class="btn btn-sm btn-danger" onclick="removerItem(${i})">Remover</button>`;
        lista.appendChild(li);
        total += item.qtd * item.preco;
      });
      totalSpan.textContent = total.toFixed(2);
    }

    function adicionarItem(nome, preco) {
      const existente = carrinho.find(item => item.nome === nome);
      if (existente) {
        existente.qtd++;
      } else {
        carrinho.push({ nome, preco, qtd: 1 });
      }
      atualizarCarrinho();
    }

    function removerItem(index) {
      carrinho.splice(index, 1);
      atualizarCarrinho();
    }

    function gerarCards() {
      const saboresDiv = document.getElementById("sabores");
      sabores.forEach(sabor => {
        const col = document.createElement("div");
        col.className = "col-md-4 mb-4";
        col.innerHTML = `
          <div class="card brigadeiro-card">
            <img src="https://source.unsplash.com/200x100/?brigadeiro,${sabor}" class="card-img-top" alt="${sabor}">
            <div class="card-body">
              <h5 class="card-title">${sabor}</h5>
              <p class="card-text">R$ 3,00 por unidade</p>
              <button class="btn btn-primary" onclick="adicionarItem('${sabor}', 3)">Adicionar</button>
            </div>
          </div>
        `;
        saboresDiv.appendChild(col);
      });

      const combosDiv = document.getElementById("combos");
      combos.forEach(combo => {
        const col = document.createElement("div");
        col.className = "col-md-4 mb-4";
        col.innerHTML = `
          <div class="card">
            <div class="card-body">
              <h5 class="card-title">${combo.nome}</h5>
              <p class="card-text">R$ ${combo.preco.toFixed(2)}</p>
              <button class="btn btn-warning" onclick="adicionarItem('${combo.nome}', ${combo.preco})">Adicionar</button>
            </div>
          </div>
        `;
        combosDiv.appendChild(col);
      });
    }

    document.getElementById("pedidoForm").addEventListener("submit", function(e) {
      e.preventDefault();
      finalizarPedido();
    });

    function finalizarPedido() {
      if (carrinho.length === 0) return alert("Seu carrinho estÃ¡ vazio!");
      const nome = document.getElementById("nome").value;
      const data = document.getElementById("data").value;
      const obs = document.getElementById("obs").value;
      const resumo = carrinho.map(i => `${i.nome} (x${i.qtd})`).join("%0A");
      const mensagem = `OlÃ¡! Meu nome Ã© ${nome}.%0A%0AQuero fazer um pedido para entrega na Faculdade, no dia ${data}.%0A%0APedido:%0A${resumo}%0A%0AObservaÃ§Ãµes: ${obs}`;
      window.open(`https://wa.me/5561993768275?text=${mensagem}`);
    }

    gerarCards();
  </script>
</body>
</html>
